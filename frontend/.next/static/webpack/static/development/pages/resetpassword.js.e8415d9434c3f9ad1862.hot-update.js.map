{"version":3,"file":"static/webpack/static/development/pages/resetpassword.js.e8415d9434c3f9ad1862.hot-update.js","sources":["webpack:///./components/Auth/RequestReset.js","webpack:///./components/Header/Nav.js","webpack:///./components/Utils/Search.js","webpack:///./components/styles/form/Form.js","webpack:///./components/styles/header/DropDown.js","webpack:///./components/styles/header/NavStyles.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from '../Header/Header';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport Form from '../styles/form/Form';\nimport { FormButton } from '../styles/button/Button';\nimport Error from '../Utils/ErrorMessage';\n\n\nconst REQUEST_RESET_MUTATION = gql`\n  mutation REQUEST_RESET_MUTATION($email: String!) {\n    requestReset(email: $email) {\n      message\n    }\n  }\n`;\n\n\nclass RequestReset extends Component {\n    state = {\n      email: '',\n    };\n\n    handleChange = e => {\n      this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        return (\n          <>\n            <Header />\n            <Mutation \n                mutation={REQUEST_RESET_MUTATION} \n                variables={this.state}>\n            {(reset, { error, loading, called }) => (\n              <Form\n                method=\"post\"\n                onSubmit={async e => {\n                  e.preventDefault();\n                  await reset();\n                  this.setState({ email: '' });\n                }}\n              >\n                <h2>Reset Password</h2>\n                <fieldset disabled={loading} aria-busy={loading}>\n                  <Error error={error} />\n                  {!error && !loading && called && <p>Please check your email for a reset link!</p>}\n                  <label htmlFor=\"email\">\n                    Email\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder=\"email\"\n                      value={this.state.email}\n                      onChange={this.handleChange}\n                    />\n                  </label>\n                  <FormButton>Send Request</FormButton>\n                </fieldset>\n              </Form>\n            )}\n          </Mutation>\n        </>\n        )\n    }\n}\n\n\nexport default RequestReset;\n","import Link from 'next/link';\nimport User from '../User/User';\nimport NavStyles from '../styles/header/NavStyles';\nimport Signout from '../Auth/Signout';\nimport { Mutation } from 'react-apollo';\nimport { TOGGLE_CART_MUTATION } from '../Cart/Cart';\nimport CartCount from '../Cart/CartCount';\n\nconst Nav = () => (\n    <User>\n      {({ data }) => {\n        const me = data ? data.me : null\n        return (\n        <NavStyles data-test=\"nav\">\n          <Link href=\"/items\">\n            <a>Shop</a>\n          </Link>\n          {me && (\n            <>\n              <Link href=\"/sell\">\n                <a>Sell</a>\n              </Link>\n              <Link href=\"/orders\">\n                <a>Orders</a>\n              </Link>\n              <Link href=\"/me\">\n                <a>Account</a>\n              </Link>\n              <Signout />\n              <Mutation mutation={TOGGLE_CART_MUTATION}>\n                {(toggleCart) => (\n                  <button onClick={toggleCart}>\n                    My Cart\n                    <CartCount count={me.cart.reduce((tally, cartItem) => tally + cartItem.quantity, 0)}></CartCount>\n                  </button>\n                )}\n              </Mutation>\n            </>\n          )}\n          {!me && (\n            <>\n                <Link href=\"/signin\">\n                <a>Sign In</a>\n                </Link>\n                <Link href=\"/signup\">\n                <a>Sign Up</a>\n                </Link>\n            </>\n          )}\n        </NavStyles>\n      )\n      }}\n    </User>\n  );\n  \n\nexport default Nav;","import React from 'react';\nimport Downshift from 'downshift';\nimport Router from 'next/router';\nimport { ApolloConsumer } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport debounce from 'lodash.debounce';\nimport { DropDown, DropDownItem, SearchStyles } from '../styles/header/DropDown';\n\n\n\nconst SEARCH_ITEMS_QUERY = gql`\n  query SEARCH_ITEMS_QUERY($searchTerm: String!) {\n    items(where: { \n        OR: [\n            { title_contains: $searchTerm },{ description_contains: $searchTerm }\n            ] }) {\n      id\n      image\n      title\n    }\n  }\n`;\n\nfunction routeToItem(item) {\n    Router.push({\n      pathname: '/item',\n      query: {\n        id: item.id,\n      },\n    });\n  }\n\n\nclass Search extends React.Component {\n    state = {\n        items: [],\n        loading: false\n    }\n\n    // user debounce function to delay invoking function after wait milliseconds\n    onChange = debounce(async (e, client) => {\n        // turn on loading\n        this.setState({ loading: true });\n        // Manually query apollo client\n        const res = await client.query({\n            query: SEARCH_ITEMS_QUERY,\n            variables: { searchTerm: e.target.value }\n        });\n        // turn off loading\n        this.setState({\n            items: res.data.items,\n            loading: false\n        });\n    }, 350);\n\n    render() {\n        return(\n            <SearchStyles>\n            <Downshift onChange={routeToItem} itemToString={item => (item === null ? '' : item.title)}>\n              {({ getInputProps, getItemProps, isOpen, inputValue, highlightedIndex }) => (\n                <div>\n                  <ApolloConsumer>\n                    {client => (\n                      <input\n                        {...getInputProps({\n                          type: 'search',\n                          placeholder: 'Search For An Item',\n                          id: 'search',\n                          className: this.state.loading ? 'loading' : '',\n                          onChange: e => {\n                            e.persist();\n                            this.onChange(e, client);\n                          },\n                        })}\n                      />\n                    )}\n                  </ApolloConsumer>\n                  {isOpen && (\n                    <DropDown>\n                      {this.state.items.map((item, index) => (\n                        <DropDownItem\n                          {...getItemProps({ item })}\n                          key={item.id}\n                          highlighted={index === highlightedIndex}\n                        >\n                          <img width=\"50\" src={item.image} alt={item.title} />\n                          {item.title}\n                        </DropDownItem>\n                      ))}\n                      {!this.state.items.length &&\n                        !this.state.loading && <DropDownItem> Nothing Found {inputValue}</DropDownItem>}\n                    </DropDown>\n                  )}\n                </div>\n              )}\n            </Downshift>\n          </SearchStyles>\n        )\n    }\n}\n\nexport default Search;","import styled, { keyframes } from 'styled-components';\n\nconst loading = keyframes`\n  from {\n    background-position: 0 0;\n    /* rotate: 0; */\n  }\n\n  to {\n    background-position: 100% 100%;\n    /* rotate: 360deg; */\n  }\n`;\n\nconst Form = styled.form`\n  background: rgba(0, 0, 0, 0.02);\n  border: 5px solid white;\n  font-size: 1.5rem;\n  line-height: 1.5;\n  font-weight: 600;\n  padding 5rem;\n  color: #666;\n  height: 68vh;\n\n  p {\n    font-size: 1.1rem;\n    margin: 1rem 0;\n  }\n  label {\n    display: block;\n    margin: 1rem 0;\n  }\n  input,\n  textarea,\n  select {\n    width: 100%;\n    padding: 0.5rem;\n    font-size: 1rem;\n    border: 1px solid black;\n    &:focus {\n      outline: 0;\n      border-color: ${props => props.theme.red};\n    }\n  }\n  input[type='submit'] {\n    width: auto;\n    background: red;\n    color: white;\n    border: 0;\n    font-size: 2rem;\n    font-weight: 600;\n    padding: 0.5rem 1.2rem;\n  }\n  fieldset {\n    border: 0;\n    padding: 0;\n\n    &[disabled] {\n      opacity: 0.5;\n    }\n    &::before {\n      height: 10px;\n      content: '';\n      display: block;\n      background-image: linear-gradient(to right, #493382 0%, #5052b5 50%, #493382 100%);\n    }\n    &[aria-busy='true']::before {\n      background-size: 50% auto;\n      animation: ${loading} 0.5s linear infinite;\n    }\n  }\n`;\n\nexport default Form;\n","import styled, { keyframes } from 'styled-components';\n\nconst DropDown = styled.div`\n  position: absolute;\n  width: 100%;\n  z-index: 2;\n  border: 1px solid ${props => props.theme.lightgrey};\n`;\n\nconst DropDownItem = styled.div`\n  border-bottom: 1px solid ${props => props.theme.lightgrey};\n  background: ${props => (props.highlighted ? '#f7f7f7' : 'white')};\n  padding: 1rem;\n  transition: all 0.2s;\n  ${props => (props.highlighted ? 'padding-left: 2rem;' : null)};\n  display: flex;\n  align-items: center;\n  border-left: 10px solid ${props => (props.highlighted ? props.theme.lightgrey : 'white')};\n  cursor: pointer;\n  img {\n    margin-right: 10px;\n  }\n`;\n\nconst glow = keyframes`\n  from {\n    box-shadow: 0 0 0px yellow;\n  }\n  to {\n    box-shadow: 0 0 10px 1px yellow;\n  }\n`;\n\nconst SearchStyles = styled.div`\n  position: relative;\n  input {\n    width: 100%;\n    padding: 1rem;\n    border: 0;\n    font-size: 1.2rem;\n    &.loading {\n      animation: ${glow} 0.5s ease-in-out infinite alternate;\n    }\n  }\n`;\n\nexport { DropDown, DropDownItem, SearchStyles };","import styled from 'styled-components';\n\nconst NavStyles = styled.ul`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-self: end;\n  font-size: 2rem;\n  background: ${props => props.theme.mainColor};\n\n  a,\n  button {\n    color: ${props => props.theme.lightgrey};\n    padding: 1rem 3rem;\n    letter-spacing: .2rem;\n    display: flex;\n    align-items: center;\n    position: relative;\n    text-transform: uppercase;\n    font-weight: 900;\n    font-size: 1.3rem;\n    background: none;\n    border: 0;\n    cursor: pointer;\n    font-weight: 800;\n    @media (max-width: 700px) {\n      font-size: 1.2rem;\n      padding: 1rem;\n    }\n    &:before {\n      content: '';\n      width: 2px;\n      background: ${props => props.theme.lightgrey};\n      height: 100%;\n      left: 0;\n      position: absolute;\n      transform: skew(-20deg);\n      top: 0;\n      bottom: 0;\n    }\n    &:after {\n      height: 2px;\n      background: ${props => props.theme.lightgrey};\n      content: '';\n      width: 0;\n      position: absolute;\n      transform: translateX(-50%);\n      transition: width 0.4s;\n      transition-timing-function: cubic-bezier(1, -0.65, 0, 2.31);\n      left: 50%;\n      margin-top: 2rem;\n    }\n    &:hover,\n    &:focus,\n    &:active {\n      color: #fff;\n    }\n  }\n  @media (max-width: 1300px) {\n    border-top: 1px solid ${props => props.theme.mainColor};\n    width: 100%;\n    justify-content: center;\n    font-size: 1.5rem;\n  }\n`;\n\nexport default NavStyles;\n"],"mappings":"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","sourceRoot":""}